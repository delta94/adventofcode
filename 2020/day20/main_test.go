package day20

import (
	"adventofcode/2020/futil"
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestPart1(t *testing.T) {
	for _, tc := range []struct {
		name string
		in   []string
		out  int
	}{
		{
			name: "1",
			in: []string{
				"Tile 2311:",
				"..##.#..#.",
				"##..#.....",
				"#...##..#.",
				"####.#...#",
				"##.##.###.",
				"##...#.###",
				".#.#.#..##",
				"..#....#..",
				"###...#.#.",
				"..###..###",
				"",
				"Tile 1951:",
				"#.##...##.",
				"#.####...#",
				".....#..##",
				"#...######",
				".##.#....#",
				".###.#####",
				"###.##.##.",
				".###....#.",
				"..#.#..#.#",
				"#...##.#..",
				"",
				"Tile 1171:",
				"####...##.",
				"#..##.#..#",
				"##.#..#.#.",
				".###.####.",
				"..###.####",
				".##....##.",
				".#...####.",
				"#.##.####.",
				"####..#...",
				".....##...",
				"",
				"Tile 1427:",
				"###.##.#..",
				".#..#.##..",
				".#.##.#..#",
				"#.#.#.##.#",
				"....#...##",
				"...##..##.",
				"...#.#####",
				".#.####.#.",
				"..#..###.#",
				"..##.#..#.",
				"",
				"Tile 1489:",
				"##.#.#....",
				"..##...#..",
				".##..##...",
				"..#...#...",
				"#####...#.",
				"#..#.#.#.#",
				"...#.#.#..",
				"##.#...##.",
				"..##.##.##",
				"###.##.#..",
				"",
				"Tile 2473:",
				"#....####.",
				"#..#.##...",
				"#.##..#...",
				"######.#.#",
				".#...#.#.#",
				".#########",
				".###.#..#.",
				"########.#",
				"##...##.#.",
				"..###.#.#.",
				"",
				"Tile 2971:",
				"..#.#....#",
				"#...###...",
				"#.#.###...",
				"##.##..#..",
				".#####..##",
				".#..####.#",
				"#..#.#..#.",
				"..####.###",
				"..#.#.###.",
				"...#.#.#.#",
				"",
				"Tile 2729:",
				"...#.#.#.#",
				"####.#....",
				"..#.#.....",
				"....#..#.#",
				".##..##.#.",
				".#.####...",
				"####.#.#..",
				"##.####...",
				"##..#.##..",
				"#.##...##.",
				"",
				"Tile 3079:",
				"#.#.#####.",
				".#..######",
				"..#.......",
				"######....",
				"####.#..#.",
				".#...#.##.",
				"#.#####.##",
				"..#.###...",
				"..#.......",
				"..#.###...",
				"",
			},
			out: 20899048083289,
		},
	} {
		t.Run(tc.name, func(t *testing.T) {
			out := part1(tc.in)
			assert.Equal(t, tc.out, out)
		})
	}
}

func TestFromInputPart1(t *testing.T) {
	inputFile := "./input.txt"
	expectedOut := 27803643063307

	lines, err := futil.ReadStringSlice(inputFile)
	assert.NoError(t, err)
	out := part1(lines)
	assert.Equal(t, expectedOut, out)
}


